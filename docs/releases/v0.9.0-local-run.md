# v0.9.0 ‚Äì Local Run + Identity & Smoke Hardening

Released: 2025-08-09

## Highlights

- Local development quick-start for Azure Functions with Cosmos Emulator
- Identity migration to Microsoft Entra External ID (customers) with B2C fallback
- Smoke profile stability: metrics-only diagnostics, HTTP-only lab toggle, guarded outputs
- CI guardrails: Bicep lint and What-If (including smoke workflow)

## What‚Äôs New

- Docs: Added ‚ÄúRun locally (Functions + Emulator)‚Äù section in Deployment Guide
- Docs hub: Quick links to local run and CI what-if
- Known Issues: Clarified External ID terminology in Deployment issues

## Code & Build

- Azure Functions (.NET 6 isolated) compiles cleanly; Swagger/Health endpoints available
- Fixed raw strings (C#11) to verbatim, DI improvements, MemoryCache usage, namespace/usings
- Optionalized timer trigger with HTTP fallback

## Identity

- New env vars: EXTERNAL_ID_TENANT, EXTERNAL_ID_CLIENT_ID, EXTERNAL_ID_USER_FLOW
- Legacy B2C_* keys still supported for backward compatibility

## Infrastructure

- Profiles: smoke/dev/prod; diagnosticsMode wired end-to-end (metricsOnly in smoke)
- Hardened smoke sample parameters; simplified diagnostics categories

## CI/CD

- Added workflows for Bicep lint and What-If preview (smoke)

## How to Try

- See Deployment Guide ‚Üí ‚ÄúRun locally (Functions + Emulator)‚Äù for steps
- Health: <http://localhost:7071/api/health>
- Swagger UI: <http://localhost:7071/api/swagger/ui>

---
Tag: v0.9.0-local-run
---

**üìù Document Version Information**
- **Version**: 1.3.0
- **Last Updated**: 2025-08-18 01:28:00 UTC  
- **Status**: Current
- **Next Review**: 2025-11